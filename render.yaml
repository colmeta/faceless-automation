services:
  - type: web
    name: faceless-automation
    env: python
    plan: free
    buildCommand: "pip install -r requirements.txt"
    startCommand: "gunicorn --bind 0.0.0.0:$PORT --workers 1 --threads 2 --timeout 300 --max-requests 100 --max-requests-jitter 10 health_server:app"
    buildpacks:
      - url: https://github.com/heroku/heroku-buildpack-apt
    envVars:
      - key: YOUTUBE_API_KEY
        sync: false
      - key: PIXABAY_API_KEY
        sync: false
      - key: GEMINI_API_KEY
        sync: false
      - key: CLOUDINARY_CLOUD_NAME
        sync: false
      - key: CLOUDINARY_API_KEY
        sync: false
      - key: CLOUDINARY_API_SECRET
        sync: false
      - key: ANTHROPIC_API_KEY
        sync: false
      - key: GROQ_API_KEY
        sync: false
      - key: OPENAI_API_KEY
        sync: false
      - key: AUTOMATION_TOKEN
        sync: false
      - key: RENDER_EXTERNAL_URL
        value: https://anslyzer.onrender.com
